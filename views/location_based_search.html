<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="../stylesheets/common.css">
  <link rel="stylesheet" href="../stylesheets/header.css">
  <link rel="stylesheet" href="../stylesheets/list_table.css">
  <link rel="stylesheet" href="../stylesheets/google_map.css">
  <title>공알이</title>
</head>

<body>
  <div class='main_container'>
        <div class='header'>
          <button class='back_button_design' onclick="location.href=location.origin + '/search'"></button>
          공공시설 조회 (위치기반 조회)
        </div>

        <h3>Google Maps</h3>
        <div id="map"></div>

        <script>
          function initMap() {
            var uluru = {lat: -25.363, lng: 131.044};
            var map = new google.maps.Map(document.getElementById('map'), {
              zoom: 14,
              center: uluru
            });

            var marker = new google.maps.Marker({map: map});

            // Try HTML5 geolocation.
            if (navigator.geolocation) {
              navigator.geolocation.getCurrentPosition(function(position) {
                var pos = {
                  lat: position.coords.latitude,
                  lng: position.coords.longitude
                };

                marker.setPosition(pos);
                map.setCenter(pos);
                map.Mark
              }, function() {
                handleLocationError(true, marker, map.getCenter());
              });
            } else {
              // Browser doesn't support Geolocation
              handleLocationError(false, marker, map.getCenter());
            }

            function handleLocationError(browserHasGeolocation, marker, pos) {
              marker.setPosition(pos);
              marker.setContent(browserHasGeolocation ?
                                  'Error: The Geolocation service failed.' :
                                  'Error: Your browser doesn\'t support geolocation.');
            }
          }
          
        </script>
      
        <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC1mwr6tW4z8fH7QZGhA4oeHTvmtWhlCkI&callback=initMap">
        </script>

        
      
  </div>
</body>

</html>